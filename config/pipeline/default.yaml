#
# Default Pipeline Configuration
#
# General-purpose configuration suitable for mixed or unknown domains.
#

# Processing stages to enable
enabled_stages:
  - "ner"
  - "kb_enrichment"
  - "pattern_matching"
  - "post_processing"

# NER Configuration
ner_model_ids:
  - "en_core_web_lg"             # spaCy large general model

ner_ensemble_mode: false
ner_min_confidence: 0.5

# Knowledge Base Configuration
kb_ids: []                       # No KBs by default (domain-agnostic)

kb_enrich_all: false
kb_min_confidence_for_enrichment: 0.7

# Pattern Matching Configuration
pattern_domains:
  - "medical"
  - "legal"

pattern_auto_detect_domain: true  # Auto-detect domain from text
pattern_min_confidence: 0.5

# Post-processing Configuration
deduplication_enabled: true
deduplication_threshold: 0.8
merge_overlapping: true

# Performance Tuning
parallel_processing: true
max_concurrent_kb_lookups: 10
timeout_seconds: 30.0

# Trust and Security
enable_trust_validation: true

trust_policy:
  # Minimum trust levels
  min_model_trust_level: "verified"
  min_kb_trust_level: "verified"

  # Model requirements
  require_model_checksum: false   # Relaxed for default config
  require_model_signature: false
  require_malware_scan: true

  # KB requirements
  require_kb_https: true
  require_kb_api_key: false
  prefer_authoritative_sources: true

  # Trust score thresholds
  min_reputation_score: 3.0
  min_quality_score: 0.6

# Optimization
optimization_strategy: "balanced"

# A/B Testing
ab_testing_enabled: false

# Monitoring
metrics_enabled: true
metrics_export_interval_seconds: 60

# Caching
cache_enabled: true
cache_ttl_seconds: 3600

# Fallbacks
enable_fallbacks: true
